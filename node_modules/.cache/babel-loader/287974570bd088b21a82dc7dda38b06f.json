{"ast":null,"code":"var _jsxFileName = \"/Users/andrewkim/mygamelist_frontend/src/components/UpdateGame.jsx\";\nimport React, { Component } from 'react';\nimport UpdateForm from './shared/UpdateForm'; // import './styles/Postform.css'\n\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nclass UpdateGame extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleUpdate = async e => {\n      e.preventDefault();\n      await axios.put(`http://localhost:3000/games/${this.props.match.params.id}`, {\n        title: this.state.title,\n        description: this.state.description,\n        link: this.state.link,\n        username: this.state.username\n      });\n      this.setState({\n        updated: true\n      });\n    };\n\n    this.state = {\n      title: '',\n      description: '',\n      genre: '',\n      image: '',\n      updated: false\n    };\n  }\n\n  render() {\n    const handleUpdate = this.handleUpdate,\n          onChange = this.onChange;\n    const _this$state = this.state,\n          title = _this$state.title,\n          description = _this$state.description,\n          genre = _this$state.genre,\n          image = _this$state.image;\n\n    if (this.state.updated) {\n      return React.createElement(Redirect, {\n        to: '/',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(UpdateForm, {\n      title: title,\n      description: description,\n      genre: genre,\n      image: image,\n      onSubmit: handleUpdate,\n      onChange: onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default UpdateGame;","map":{"version":3,"sources":["/Users/andrewkim/mygamelist_frontend/src/components/UpdateGame.jsx"],"names":["React","Component","UpdateForm","Redirect","axios","UpdateGame","constructor","props","onChange","event","setState","target","name","value","handleUpdate","e","preventDefault","put","match","params","id","title","state","description","link","username","updated","genre","image","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA8B,OAA9B;AACA,OAAOC,UAAP,MAAuB,qBAAvB,C,CACA;;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAMA,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAC/BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgBnBC,QAhBmB,GAgBPC,KAAD,IAAW;AAElB,WAAKC,QAAL,CAAc;AACV,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AADxB,OAAd;AAKH,KAvBkB;;AAAA,SA0BnBC,YA1BmB,GA0BJ,MAAOC,CAAP,IAAa;AAExBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMZ,KAAK,CAACa,GAAN,CAAW,+BAA8B,KAAKV,KAAL,CAAWW,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAApE,EAAuE;AACzEC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KADuD;AAEzEE,QAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAFiD;AAGzEC,QAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IAHwD;AAIzEC,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG;AAJoD,OAAvE,CAAN;AAMA,WAAKf,QAAL,CAAc;AACVgB,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KAtCkB;;AAIf,SAAKJ,KAAL,GAAa;AAETD,MAAAA,KAAK,EAAE,EAFE;AAGTE,MAAAA,WAAW,EAAE,EAHJ;AAITI,MAAAA,KAAK,EAAE,EAJE;AAKTC,MAAAA,KAAK,EAAE,EALE;AAMTF,MAAAA,OAAO,EAAE;AANA,KAAb;AASH;;AA4BDG,EAAAA,MAAM,GAAG;AAAA,UAGGf,YAHH,GAG8B,IAH9B,CAGGA,YAHH;AAAA,UAGiBN,QAHjB,GAG8B,IAH9B,CAGiBA,QAHjB;AAAA,wBAIwC,KAAKc,KAJ7C;AAAA,UAIGD,KAJH,eAIGA,KAJH;AAAA,UAIUE,WAJV,eAIUA,WAJV;AAAA,UAIuBI,KAJvB,eAIuBA,KAJvB;AAAA,UAI8BC,KAJ9B,eAI8BA,KAJ9B;;AAML,QAAI,KAAKN,KAAL,CAAWI,OAAf,EAAwB;AACpB,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAGD,WAEI,0CACI,oBAAC,UAAD;AAEI,MAAA,KAAK,EAAEL,KAFX;AAGI,MAAA,WAAW,EAAEE,WAHjB;AAII,MAAA,KAAK,EAAEI,KAJX;AAKI,MAAA,KAAK,EAAEC,KALX;AAMI,MAAA,QAAQ,EAAEd,YANd;AAOI,MAAA,QAAQ,EAAEN,QAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ;AAeH;;AApE8B;;AAyEnC,eAAeH,UAAf","sourcesContent":["import React, {Component}from 'react'\nimport UpdateForm from './shared/UpdateForm'\n// import './styles/Postform.css'\nimport { Redirect } from 'react-router-dom'\nimport axios from 'axios'\n\n\n\n\n\nclass UpdateGame extends Component {\n    constructor(props) {\n        super(props)\n\n\n        this.state = {\n\n            title: '',\n            description: '',\n            genre: '', \n            image: '',\n            updated: false\n\n        }\n    }\n\n\n    onChange = (event) => {\n\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n\n\n    }\n\n\n    handleUpdate = async (e) => {\n\n        e.preventDefault()\n        await axios.put(`http://localhost:3000/games/${this.props.match.params.id}`, {\n            title: this.state.title,\n            description: this.state.description,\n            link: this.state.link,\n            username: this.state.username\n        })\n        this.setState({\n            updated: true\n        })\n    }\n\n\n    render() {\n\n\n        const { handleUpdate, onChange } = this;\n        const { title, description, genre, image } = this.state;\n\n        if (this.state.updated) {\n            return <Redirect to={'/'} />\n        }\n\n\n        return (\n\n            <>\n                <UpdateForm\n\n                    title={title}\n                    description={description}\n                    genre={genre}\n                    image={image}\n                    onSubmit={handleUpdate}\n                    onChange={onChange}\n\n                />\n            </>\n        )\n    }\n\n}\n\n\nexport default UpdateGame"]},"metadata":{},"sourceType":"module"}