{"ast":null,"code":"var _jsxFileName = \"/Users/andrewkim/mygamelist_frontend/src/components/GameDetails.jsx\";\nimport React from 'react';\nimport './styles/GameDetails.css';\nimport axios from 'axios';\nimport Moment from 'react-moment';\n\nclass GameDetails extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getGame = async () => {\n      console.log('hello');\n      await axios.get(`http://localhost:3000/games/${this.props.match.params.id}`).then(response => {\n        console.log(response.data.description);\n        this.setState({\n          title: response.data.title,\n          description: response.data.description,\n          image: response.data.image,\n          views: response.data.views,\n          rating: response.data.rating,\n          votes: response.data.votes,\n          date: response.data.created_at\n        });\n      });\n    };\n\n    this.onView = async () => {\n      console.log('viewed');\n      let data = await axios.get(`http://localhost:3000/games/${this.props.match.params.id}`);\n      console.log(data.data);\n      console.log(data.data.views);\n      let newViews = data.data.views + 1;\n      await axios.put(`http://localhost:3000/games/${this.props.match.params.id}`, {\n        views: newViews\n      });\n      this.getGame();\n    };\n\n    this.state = {\n      title: '',\n      image: '',\n      description: '',\n      views: '',\n      rating: '',\n      date: '',\n      genre: '',\n      comments: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    this.getGame();\n    this.onView(); // this.getComments()\n    // this._isMounted = true;\n  } // componentWillUnmount() {\n  //     this._isMounted = false;\n  // }\n\n\n  // handleSubmit = async (e) => {\n  //     e.preventDefault()\n  //     await axios.put(`http://localhost:3000/posts/${this.props.match.params.id}`, {\n  //         title: this.state.post.title,\n  //         username: this.state.post.username,\n  //         image: this.state.post.link,\n  //         description: this.state.post.description\n  //     })\n  // }\n  render() {\n    // const { post } = this.state;\n    return React.createElement(\"div\", {\n      className: \"outer-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"votes-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"votes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.votes ? this.state.votes : 0)), React.createElement(\"div\", {\n      className: \"top-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"u/\", this.state.username, \"-\"), React.createElement(Moment, {\n      fromNow: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.date)), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.title), React.createElement(\"img\", {\n      className: \"post-image\",\n      src: this.state.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.state.description), React.createElement(\"div\", {\n      className: \"bottom-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"views\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.views < 1 ? 1 : this.state.views, \" views\")))));\n  }\n\n}\n\nexport default GameDetails;","map":{"version":3,"sources":["/Users/andrewkim/mygamelist_frontend/src/components/GameDetails.jsx"],"names":["React","axios","Moment","GameDetails","Component","constructor","props","getGame","console","log","get","match","params","id","then","response","data","description","setState","title","image","views","rating","votes","date","created_at","onView","newViews","put","state","genre","comments","isLoading","componentDidMount","render","username"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './styles/GameDetails.css'\nimport axios from 'axios'\nimport Moment from 'react-moment'\n\n\n\n\nclass GameDetails extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            title: '',\n            image: '',\n            description: '',\n            views: '',\n            rating: '',\n            date: '',\n            genre: '',\n            comments: [],\n            isLoading: true\n\n        }\n\n    }\n\n\n    componentDidMount() {\n        this.getGame()\n        this.onView()\n        // this.getComments()\n        // this._isMounted = true;\n    }\n\n    // componentWillUnmount() {\n    //     this._isMounted = false;\n    // }\n    getGame = async () => {\n        console.log('hello')\n        await axios.get(`http://localhost:3000/games/${this.props.match.params.id}`)\n            .then((response) => {\n                console.log(response.data.description)\n                this.setState({\n                    title: response.data.title,\n                    description: response.data.description,\n                    image: response.data.image,\n                    views: response.data.views,\n                    rating: response.data.rating,\n                    votes: response.data.votes,\n                    date: response.data.created_at\n                })\n            })\n\n    }\n\n    onView = async () => {\n        console.log('viewed')\n        let data = await axios.get(`http://localhost:3000/games/${this.props.match.params.id}`)\n        console.log(data.data)\n        console.log(data.data.views)\n        let newViews = data.data.views + 1\n        await axios.put(`http://localhost:3000/games/${this.props.match.params.id}`, {\n            views: newViews\n        })\n        this.getGame();\n\n    }\n\n\n// handleSubmit = async (e) => {\n//     e.preventDefault()\n\n//     await axios.put(`http://localhost:3000/posts/${this.props.match.params.id}`, {\n//         title: this.state.post.title,\n//         username: this.state.post.username,\n//         image: this.state.post.link,\n//         description: this.state.post.description\n//     })\n\n\n// }\n\n\n\nrender() {\n\n    // const { post } = this.state;\n    return (\n        <div className='outer-container'>\n            <div className='post-container'>\n                <div className='votes-container'>\n                    <p className='votes'>{this.state.votes ? this.state.votes : 0}</p>\n                </div>\n                <div className='top-container'>\n                    <div className='user'>\n                        <p>u/{this.state.username}-</p>\n                        <Moment fromNow>{this.state.date}</Moment>\n\n                    </div>\n                    <h4>{this.state.title}</h4>\n                    <img className='post-image' src={this.state.image}></img>\n                    <p>{this.state.description}</p>\n                    <div className='bottom-container'>\n                        <p className='views'>{this.state.views < 1 ? 1 : this.state.views} views</p>\n                    </div>\n                    {/* <div>\n                            {this.state.comments[0]}\n\n                        </div>\n                        <div>\n                            {this.state.comments[1]}\n                        </div>\n                        <div>\n                            {this.state.comments[2]}\n                        </div> */}\n                </div>\n\n\n\n\n            </div>\n        </div>\n    )\n}\n}\n\nexport default GameDetails"]},"metadata":{},"sourceType":"module"}