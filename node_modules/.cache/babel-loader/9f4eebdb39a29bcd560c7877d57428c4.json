{"ast":null,"code":"var _jsxFileName = \"/Users/andrewkim/GA/mygamelist/mygamelist_frontend/src/components/Register.jsx\";\nimport React, { Component } from 'react';\nimport RegisterForm from './shared/RegisterForm';\nimport signInUser from './services/auth';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        error: false,\n        errorMsg: \"\"\n      });\n    };\n\n    this.onSignUp = event => {\n      event.preventDefault();\n      const _this$props = this.props,\n            history = _this$props.history,\n            setUser = _this$props.setUser;\n      signUp(this.state).then(() => signInUser(this.state)).then(res => setUser(res.user)).then(() => history.push(\"/\")).catch(error => {\n        console.error(error);\n        this.setState({\n          username: \"\",\n          password: \"\",\n          error: true,\n          errorMsg: \"SignUp Failed\"\n        });\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      error: false,\n      errorMsg: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n    return React.createElement(RegisterForm, {\n      username: username,\n      password: password,\n      onChange: this.handleChange,\n      onSubmit: this.onSignUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/andrewkim/GA/mygamelist/mygamelist_frontend/src/components/Register.jsx"],"names":["React","Component","RegisterForm","signInUser","Register","constructor","props","handleChange","event","setState","target","name","value","error","errorMsg","onSignUp","preventDefault","history","setUser","signUp","state","then","res","user","push","catch","console","username","password","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,UAAP,MAAuB,iBAAvB;;AAQA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAC7BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAanBC,YAbmB,GAaJC,KAAK,IAAI;AACpB,WAAKC,QAAL,CAAc;AACV,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE,KADxB;AAEVC,QAAAA,KAAK,EAAE,KAFG;AAGVC,QAAAA,QAAQ,EAAE;AAHA,OAAd;AAKH,KAnBkB;;AAAA,SAyBnBC,QAzBmB,GAyBRP,KAAK,IAAI;AAChBA,MAAAA,KAAK,CAACQ,cAAN;AADgB,0BAGa,KAAKV,KAHlB;AAAA,YAGRW,OAHQ,eAGRA,OAHQ;AAAA,YAGCC,OAHD,eAGCA,OAHD;AAKhBC,MAAAA,MAAM,CAAC,KAAKC,KAAN,CAAN,CACGC,IADH,CACQ,MAAMlB,UAAU,CAAC,KAAKiB,KAAN,CADxB,EAEGC,IAFH,CAEQC,GAAG,IAAIJ,OAAO,CAACI,GAAG,CAACC,IAAL,CAFtB,EAGGF,IAHH,CAGQ,MAAMJ,OAAO,CAACO,IAAR,CAAa,GAAb,CAHd,EAIGC,KAJH,CAISZ,KAAK,IAAI;AACda,QAAAA,OAAO,CAACb,KAAR,CAAcA,KAAd;AACA,aAAKJ,QAAL,CAAc;AACZkB,UAAAA,QAAQ,EAAE,EADE;AAEZC,UAAAA,QAAQ,EAAE,EAFE;AAGZf,UAAAA,KAAK,EAAE,IAHK;AAIZC,UAAAA,QAAQ,EAAE;AAJE,SAAd;AAMD,OAZH;AAaD,KA3CgB;;AAIf,SAAKM,KAAL,GAAa;AACTO,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTf,MAAAA,KAAK,EAAE,KAHE;AAITC,MAAAA,QAAQ,EAAE;AAJD,KAAb;AAQH;;AAsCDe,EAAAA,MAAM,GAAG;AAAA,wBAE0B,KAAKT,KAF/B;AAAA,UAEGO,QAFH,eAEGA,QAFH;AAAA,UAEaC,QAFb,eAEaA,QAFb;AAGL,WACI,oBAAC,YAAD;AACI,MAAA,QAAQ,EAAED,QADd;AAEI,MAAA,QAAQ,EAAEC,QAFd;AAGI,MAAA,QAAQ,EAAE,KAAKrB,YAHnB;AAII,MAAA,QAAQ,EAAE,KAAKQ,QAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAUH;;AAhE4B;;AAmEjC,eAAeX,QAAf","sourcesContent":["import React, {Component} from 'react'\nimport RegisterForm from './shared/RegisterForm'\nimport signInUser from './services/auth'\n\n\n\n\n\n\n\nclass Register extends Component {\n    constructor(props) {\n        super(props)\n\n\n        this.state = {\n            username: '',\n            password: '',\n            error: false,\n            errorMsg: ''\n        };\n\n\n    }\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: false,\n            errorMsg: \"\"\n        });\n    };\n\n\n\n\n\n    onSignUp = event => {\n        event.preventDefault();\n    \n        const { history, setUser } = this.props;\n    \n        signUp(this.state)\n          .then(() => signInUser(this.state))\n          .then(res => setUser(res.user))\n          .then(() => history.push(\"/\"))\n          .catch(error => {\n            console.error(error);\n            this.setState({\n              username: \"\",\n              password: \"\",\n              error: true,\n              errorMsg: \"SignUp Failed\"\n            });\n          });\n      };\n\n\n\n\n\n\n    render() {\n\n        const { username, password } = this.state;\n        return (\n            <RegisterForm \n                username={username}\n                password={password}\n                onChange={this.handleChange}\n                onSubmit={this.onSignUp}\n                \n            />\n\n        )\n    }\n}\n\nexport default Register  "]},"metadata":{},"sourceType":"module"}