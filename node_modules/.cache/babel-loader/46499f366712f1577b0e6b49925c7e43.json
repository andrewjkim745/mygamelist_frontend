{"ast":null,"code":"var _jsxFileName = \"/Users/andrewkim/GA/mygamelist/mygamelist_frontend/src/components/Login.jsx\";\nimport React, { Component } from 'react';\nimport LoginForm from './shared/LoginForm';\nimport signInUser from './services/auth';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        error: false,\n        errorMsg: \"\"\n      });\n    };\n\n    this.setUser = user => this.setState({\n      user\n    });\n\n    this.clearUser = () => this.setState({\n      user: null\n    });\n\n    this.onSignIn = event => {\n      event.preventDefault();\n      const _this$props = this.props,\n            history = _this$props.history,\n            setUser = _this$props.setUser;\n      signInUser(this.state).then(res => setUser(res.user)).then(() => history.push(\"/\")).catch(error => {\n        console.error(error);\n        this.setState({\n          error: true,\n          errorMsg: \"Sign in Failed\",\n          username: \"\",\n          password: \"\"\n        });\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      error: false,\n      errorMsg: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n    return React.createElement(LoginForm, {\n      username: username,\n      password: password,\n      onChange: this.handleChange,\n      onSubmit: this.onSignIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/andrewkim/GA/mygamelist/mygamelist_frontend/src/components/Login.jsx"],"names":["React","Component","LoginForm","signInUser","Login","constructor","props","handleChange","event","setState","target","name","value","error","errorMsg","setUser","user","clearUser","onSignIn","preventDefault","history","state","then","res","push","catch","console","username","password","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,UAAP,MAAuB,iBAAvB;;AAQA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAC1BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAWnBC,YAXmB,GAWJC,KAAK,IAAI;AACpB,WAAKC,QAAL,CAAc;AACV,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE,KADxB;AAEVC,QAAAA,KAAK,EAAE,KAFG;AAGVC,QAAAA,QAAQ,EAAE;AAHA,OAAd;AAKH,KAjBkB;;AAAA,SAmBnBC,OAnBmB,GAmBTC,IAAI,IAAI,KAAKP,QAAL,CAAc;AAAEO,MAAAA;AAAF,KAAd,CAnBC;;AAAA,SAqBnBC,SArBmB,GAqBP,MAAM,KAAKR,QAAL,CAAc;AAAEO,MAAAA,IAAI,EAAE;AAAR,KAAd,CArBC;;AAAA,SAwBnBE,QAxBmB,GAwBRV,KAAK,IAAI;AAChBA,MAAAA,KAAK,CAACW,cAAN;AADgB,0BAGa,KAAKb,KAHlB;AAAA,YAGRc,OAHQ,eAGRA,OAHQ;AAAA,YAGCL,OAHD,eAGCA,OAHD;AAKhBZ,MAAAA,UAAU,CAAC,KAAKkB,KAAN,CAAV,CACKC,IADL,CACUC,GAAG,IAAIR,OAAO,CAACQ,GAAG,CAACP,IAAL,CADxB,EAEKM,IAFL,CAEU,MAAMF,OAAO,CAACI,IAAR,CAAa,GAAb,CAFhB,EAGKC,KAHL,CAGWZ,KAAK,IAAI;AACZa,QAAAA,OAAO,CAACb,KAAR,CAAcA,KAAd;AACA,aAAKJ,QAAL,CAAc;AACVI,UAAAA,KAAK,EAAE,IADG;AAEVC,UAAAA,QAAQ,EAAE,gBAFA;AAGVa,UAAAA,QAAQ,EAAE,EAHA;AAIVC,UAAAA,QAAQ,EAAE;AAJA,SAAd;AAMH,OAXL;AAYH,KAzCkB;;AAIf,SAAKP,KAAL,GAAa;AACTM,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTf,MAAAA,KAAK,EAAE,KAHE;AAITC,MAAAA,QAAQ,EAAE;AAJD,KAAb;AAMH;;AAsCDe,EAAAA,MAAM,GAAG;AAAA,wBAE0B,KAAKR,KAF/B;AAAA,UAEGM,QAFH,eAEGA,QAFH;AAAA,UAEaC,QAFb,eAEaA,QAFb;AAGL,WACI,oBAAC,SAAD;AACI,MAAA,QAAQ,EAAED,QADd;AAEI,MAAA,QAAQ,EAAEC,QAFd;AAGI,MAAA,QAAQ,EAAE,KAAKrB,YAHnB;AAII,MAAA,QAAQ,EAAE,KAAKW,QAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAUH;;AA9DyB;;AAiE9B,eAAed,KAAf","sourcesContent":["import React, {Component} from 'react'\nimport LoginForm from './shared/LoginForm'\nimport signInUser from './services/auth'\n\n\n\n\n\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props)\n\n\n        this.state = {\n            username: '',\n            password: '',\n            error: false,\n            errorMsg: ''\n        };\n    }\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: false,\n            errorMsg: \"\"\n        });\n    };\n\n    setUser = user => this.setState({ user });\n\n    clearUser = () => this.setState({ user: null });\n\n\n    onSignIn = event => {\n        event.preventDefault();\n\n        const { history, setUser } = this.props;\n\n        signInUser(this.state)\n            .then(res => setUser(res.user))\n            .then(() => history.push(\"/\"))\n            .catch(error => {\n                console.error(error);\n                this.setState({\n                    error: true,\n                    errorMsg: \"Sign in Failed\",\n                    username: \"\",\n                    password: \"\"\n                });\n            });\n    };\n\n\n\n\n\n\n    render() {\n\n        const { username, password } = this.state;\n        return (\n            <LoginForm \n                username={username}\n                password={password}\n                onChange={this.handleChange}\n                onSubmit={this.onSignIn}\n                \n            />\n\n        )\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}